{"code":"!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=0)}([function(e,t,i){\"use strict\";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{ref:\"grid-gallery\",staticClass:\"test-item-view-mode grid-gallery\",attrs:{id:\"grid-gallery\"}},[i(\"section\",{staticClass:\"grid-wrap\"},[i(\"ul\",{staticClass:\"grid\"},[i(\"li\",{staticClass:\"grid-sizer\"}),e._v(\" \"),e._l(e.items,(function(t,n){return i(\"li\",{key:n},[i(\"figure\",[null!=t.thumbnail?i(\"img\",{attrs:{alt:t.thumbnail_alt?t.thumbnail_alt:e.$i18n.get(\"label_thumbnail\"),src:t.thumbnail[\"tainacan-medium-full\"]?t.thumbnail[\"tainacan-medium-full\"][0]:t.thumbnail.medium?t.thumbnail.medium[0]:e.thumbPlaceholderPath}}):e._e(),e._v(\" \"),i(\"figcaption\",[i(\"h3\",[i(\"span\",[e._v(e._s(t.title))])]),e._v(\" \"),i(\"div\",[i(\"p\",[e._v(e._s(t.description))])])])])])}))],2)]),e._v(\" \"),i(\"section\",{staticClass:\"slideshow\"},[i(\"ul\",e._l(e.items,(function(t,n){return i(\"li\",{key:n},[i(\"figure\",[i(\"figcaption\",[i(\"h3\",[i(\"span\",[e._v(e._s(t.title))])]),e._v(\" \"),i(\"button\",{on:{click:function(i){e.window.location=e.getItemLink(t.url,n)}}},[e._v(\"Ver pÃ¡gina do item\")])]),e._v(\" \"),null!=t.thumbnail?i(\"img\",{attrs:{alt:t.thumbnail_alt?t.thumbnail_alt:e.$i18n.get(\"label_thumbnail\"),src:t.thumbnail.full?t.thumbnail.full[0]:t.thumbnail.large?t.thumbnail.large[0]:e.thumbPlaceholderPath}}):e._e()])])})),0),e._v(\" \"),e._m(0)])])};n._withStripped=!0;var r=function(e,t,i,n,r,a,s,l){var o,u=\"function\"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=i,u._compiled=!0),n&&(u.functional=!0),a&&(u._scopeId=\"data-v-\"+a),s?(o=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=o):r&&(o=l?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),o)if(u.functional){u._injectStyles=o;var d=u.render;u.render=function(e,t){return o.call(t),d(e,t)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,o):[o]}return{exports:e,options:u}}({name:\"ViewModeExtraTest\",data:()=>({thumbPlaceholderPath:tainacan_plugin.base_url+\"/assets/images/placeholder_square.png\",isSlideshowViewModeEnabled:!1}),props:{collectionId:Number,displayedMetadata:Array,items:{type:Array,default:()=>[],required:!0},isLoading:!1,totalItems:Number,isFiltersMenuCompressed:Boolean,enabledViewModes:Array},watch:{isLoading(e){!e&&this.$refs[\"grid-gallery\"]&&new CBPGridGallery(this.$refs[\"grid-gallery\"])}},computed:{queries(){let e=JSON.parse(JSON.stringify(this.$route.query));return e&&(delete e.view_mode,delete e.fetch_only,delete e.fetch_only_meta),e}},mounted(){this.isSlideshowViewModeEnabled=this.enabledViewModes.findIndex(e=>\"slideshow\"==e)>=0,this.$refs[\"grid-gallery\"]&&new CBPGridGallery(this.$refs[\"grid-gallery\"])},methods:{getItemLink(e,t){return this.queries?(this.queries.pos=(this.queries.paged-1)*this.queries.perpage+t,this.queries.source_list=this.$root.termId?\"term\":this.$root.collectionId&&\"default\"!=this.$root.collectionId?\"collection\":\"repository\",this.queries.ref=this.$route.path,e+\"?\"+qs.stringify(this.queries)):e},renderMetadata(e,t){let i=!(!e||null==e[t.slug])&&e[t.slug];return i?i.value_as_html:\"\"},starSlideshowFromHere(e){this.$router.replace({query:{...this.$route.query,\"slideshow-from\":e}}).catch(e=>this.$console.log(e))}}},n,[function(){var e=this.$createElement,t=this._self._c||e;return t(\"nav\",[t(\"span\",{staticClass:\"icon nav-prev\"}),this._v(\" \"),t(\"span\",{staticClass:\"icon nav-next\"}),this._v(\" \"),t(\"span\",{staticClass:\"icon nav-close\"})])}],!1,null,null,null);r.options.__file=\"extra-view-mode.vue\";var a=r.exports;window.tainacan_extra_components=void 0!==window.tainacan_extra_components?window.tainacan_extra_components:{},window.tainacan_extra_components[\"view-mode-extra-test\"]=a}]);","extractedComments":[]}